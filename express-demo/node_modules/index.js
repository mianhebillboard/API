const express = require('express');
const app = express();

const flavors = [
    {id: 1, flavor: 'chocolate'},
    {id: 2, flavor: 'matcha'},
    {id: 3, flavor: 'rocky road'},
    {id: 4, flavor: 'strawberry'},
]

app.get('/' , (req, res) => {
    res.send('HelloWorld');
});

app.get('/api/flavors' , (req, res) => {
    res.send(flavors);
});



app.get('/api/flavors/:id',(req,res) => {
    const flavor = flavors.find(c=> c.id === parseInt(req.params.id));
    if (!flavor) res.status(404).send('The flavor with the given id is not found');
    res.send(flavor);
})

app.get('/api/post/:year/:month' , (req, res) => {
    res.send(req.params);
});

app.get('/api/post/:id' , (req, res) => {
    res.send(req.params.id);
});


const port = process.env.PORT || 3000;
app.listen(port, () => console.log(`Listening on port ${port}`));